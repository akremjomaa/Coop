import{f as d,g as _,o as u,h as p,a as i,c as r,b as t,t as c,j as h,k,e as f,r as v,F as x,p as w,q as M}from"./index.4334a7d3.js";const g=["data-id"],y={class:"column is-10 is-desktop"},$={class:"subtitle"},B={class:"subtitle is-link"},L={href:"mailto:{{props.member.email}}"},V={class:"column is-1 is-desktop"},C={__name:"Member",props:["member"],setup(m){const e=m,s=d(),n=_({member:""});u(()=>{n.member=e.member});function a(){api.delete(`members/${e.member.id}?token=${s.data.token}`).then(o=>{n.member=o,window.location.reload()})}async function l(){e.member.id===s.data.member.id?alert("You can't delete your own account !"):await a()}return(o,S)=>{const b=p("router-link");return i(),r("div",{class:"box column is-9 is-offset-2-desktop is-flex is-desktop","data-id":e.member.id},[t("div",y,[t("h2",$,c(e.member.fullname),1),t("h6",B,[t("a",L,c(e.member.email),1)])]),t("div",V,[h(b,{to:`/oneMember/${e.member.id}`,class:"button is-link is-outlined"},{default:k(()=>[f("\u{1F464}")]),_:1},8,["to"])]),t("button",{onClick:l,type:"button",class:"button is-link is-outlined"},"\u{1F5D1}\uFE0F")],8,g)}}},N=t("h1",{class:"title has-text-link"},"List of membres",-1),j={__name:"MemberListView",setup(m){const e=d(),s=v(null);u(()=>{console.log("welcome"),n()});function n(){api.get("members",e.data.token).then(a=>{s.value=a})}return(a,l)=>(i(),r("main",null,[N,t("div",null,[(i(!0),r(x,null,w(s.value,o=>(i(),M(C,{key:o.id,member:o},null,8,["member"]))),128))])]))}};export{j as default};
