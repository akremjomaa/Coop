import{d as k,f,g as v,s as M,o as x,h as $,a as c,c as m,b as e,u as o,e as i,t as r,F as y,p as C,j as p,k as g}from"./index.4334a7d3.js";import{u as w}from"./conversations.30dee324.js";const S=k("members",()=>{const u=f(),s=v({members:[],member:{}});async function t(){const l=await await api.get(`members?token=${u.data.token}`);s.members=l,console.log(s.members)}async function _(a){await t(),s.member=s.members.find(l=>l.id==a),console.log(s.member)}return{state:s,getMembers:t,getMemberName:_}},{persist:!1}),N={class:"title"},V=["src"],B={class:"subtitle"},E=e("b",null,"Email :",-1),F={class:"subtitle"},T=e("b",null,"inscrit depuis :",-1),j=e("br",null,null,-1),D=e("h1",null,"Messages:",-1),L=e("br",null,null,-1),O=["data-id"],R={key:1},q=["data-id"],z={class:"column is-10 is-desktop"},A={class:"subtitle"},G=["src"],H={class:"subtitle has-text-info"},I={class:"subtitle"},J=["onClick"],U={__name:"OneMemberView",setup(u){const s=S(),t=w(),_=f(),a=M();x(()=>{console.log("one member"),s.getMembers(),s.getMemberName(a.params.id),console.log(s.state.members),t.getMemberMessages(a.params.id),console.log(t.state.memberMessages)});function l(b,h){api.delete(`channels/${b}/posts/${h}?token=${_.data.token}`).then(d=>{t.state.memberMessages=d})}return(b,h)=>{const d=$("router-link");return c(),m("main",null,[e("div",null,[e("h2",N,[e("img",{src:`https://gravatar.com/avatar/${o(a).params.id}??s=200&d=robohash&r=x`,alt:""},null,8,V),i(r(o(s).state.member.fullname),1)]),e("h2",B,[E,i(r(o(s).state.member.email),1)]),e("h2",F,[T,i(" "+r(o(s).state.member.created_at),1)])]),j,e("div",null,[D,L,o(t).state.memberMessages.length===0?(c(),m("div",{key:0,"data-id":o(t).state.channel.id},[i(" There is no messages Created by "),e("strong",null,r(o(s).state.member.fullname),1),i(" !! ")],8,O)):(c(),m("div",R,[(c(!0),m(y,null,C(o(t).state.memberMessages,n=>(c(),m("div",{key:n.id,class:"box column is-9 is-offset-2-desktop is-flex is-desktop","data-id":o(t).state.channel.id},[e("div",z,[e("h2",A,[p(d,{to:`/oneMember/${n.member_id}`},{default:g(()=>[e("img",{src:`https://gravatar.com/avatar/${n.member_id}?s=200&d=robohash&r=x`,alt:""},null,8,G)]),_:2},1032,["to"])]),e("h1",H,[p(d,{to:`/oneConversationView/${n.channel_id}`},{default:g(()=>[i(r(n.message),1)]),_:2},1032,["to"])]),e("h2",I,"Created at "+r(n.created_at),1)]),e("button",{onClick:K=>l(n.channel_id,n.id),type:"button",class:"button is-link is-outlined"}," \u{1F5D1}\uFE0F ",8,J)],8,q))),128))]))])])}}};export{U as default};
